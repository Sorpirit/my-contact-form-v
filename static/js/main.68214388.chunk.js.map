{"version":3,"sources":["App.js","index.js"],"names":["App","useState","response","setResponse","failed","setFailed","sendingForm","setSendingForm","captchaKey","setCaptchaKey","name","setName","email","setEmail","message","setMessage","requests","setRequests","now","Date","length","slice","useLimitedRequests","addRequest","className","Fade","in","Alert","variant","onClose","dismissible","Heading","Form","onSubmit","e","preventDefault","data","emailjs","send","then","result","console","log","text","error","target","reset","Group","controlId","Label","Control","type","placeholder","onChange","value","as","rows","Button","disabled","theme","sitekey","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68214388.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport emailjs from 'emailjs-com';\r\nimport ReCAPTCHA from 'react-google-recaptcha';\r\nimport {Form,Button,Alert, Fade} from 'react-bootstrap';\r\n\r\nfunction App() {\r\n\r\n  const useLimitedRequests = function(){\r\n    const limit = 5;\r\n    const timePeriod = 240 * 1000;\r\n    const [ requests, setRequests ] = useState([]);\r\n\r\n    return [\r\n        requests,\r\n        function(){\r\n            const now = Date.now();\r\n\r\n            if( requests.length > 0 && (requests[0] < now - timePeriod) ){\r\n                setRequests( requests.slice(1) );\r\n            }\r\n\r\n            if( requests.length < limit ){\r\n                setRequests([ ...requests, now ]);\r\n                return now;\r\n            }\r\n\r\n            return 0;\r\n        }\r\n    ];\r\n  };\r\n\r\n\r\n  const [response, setResponse] = useState(false);\r\n  const [failed, setFailed] = useState(false);\r\n  const [sendingForm, setSendingForm] = useState(false);\r\n  const [captchaKey, setCaptchaKey] = useState(null);\r\n\r\n  const [name, setName] = useState(null);\r\n  const [email, setEmail] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const [,addRequest] = useLimitedRequests();\r\n\r\n  function CaptchaCheck(value) {\r\n    setCaptchaKey(value);\r\n  }\r\n\r\n  const sendEmail = (e) => {\r\n    e.preventDefault();\r\n    setSendingForm(true);\r\n\r\n    const data = {\r\n      name: name,\r\n      email: email,\r\n      message: message,\r\n      \"g-recaptcha-response\": captchaKey\r\n    };\r\n\r\n    try {\r\n      if( addRequest() > 0 ) {\r\n        emailjs.send('service_l89he0s', 'template_l8t0oid', data, 'user_yvdLAydZ45L4hplgp5nK4')\r\n        .then((result) => {\r\n            console.log(result.text);\r\n            setSendingForm(false);\r\n        }, (error) => {\r\n            console.log(error.text);\r\n            setSendingForm(false);\r\n            setFailed(true);\r\n        });\r\n      }else {\r\n        setFailed(true);\r\n      }\r\n    } catch (error) {\r\n      console.log(error.text);\r\n      setSendingForm(false);\r\n      setFailed(true);\r\n    }\r\n    \r\n    e.target.reset();\r\n    setResponse(true);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n\r\n      <h1 className=\"mb-3 text-center mt-5\">Welcome back!</h1>\r\n\r\n      {\r\n        response ?\r\n        <Fade in={response}>\r\n        {\r\n          !failed ? \r\n          <Alert className=\"mb-3 mx-5 bg-success d-flex justify-content-center\" variant=\"sucsses\" onClose={() => setResponse(false)} dismissible>\r\n            <Alert.Heading>Email sent! Check your email for a prise.</Alert.Heading>\r\n          </Alert> :\r\n          <Alert className=\"mb-3 mx-5 bg-danger d-flex justify-content-center text-white text-center\" variant=\"danger\" onClose={() => setResponse(false)} dismissible>\r\n            <Alert.Heading>Oh snap! You got an error! Try again later.</Alert.Heading>\r\n          </Alert> \r\n        }\r\n        </Fade> : null\r\n      }\r\n      \r\n      <Form onSubmit={sendEmail} variant=\"dark\">\r\n        <Form.Group className=\"mb-3\" controlId=\"name\">\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control type=\"text\" placeholder=\"Name\" onChange={e => setName(e.target.value)}/>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={e => setEmail(e.target.value)}/>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"message\">\r\n          <Form.Label>Message</Form.Label>\r\n          <Form.Control as=\"textarea\" placeholder=\"Message\" rows={3} onChange={e => setMessage(e.target.value)}/>\r\n        </Form.Group>\r\n        <Button variant=\"primary\" type=\"submit\" disabled={sendingForm || captchaKey == null || email == null || email === ''}>\r\n          {sendingForm ? \"Sending...\" : \"Send\"}\r\n        </Button>\r\n      </Form>\r\n      <ReCAPTCHA\r\n          className=\"mb-3 d-flex justify-content-center\"\r\n          theme=\"dark\"\r\n          sitekey=\"6LdMAWMdAAAAAIDRlq0y92zVhFD5dThwIPwZyiMd\"\r\n          onChange={CaptchaCheck}\r\n        />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}